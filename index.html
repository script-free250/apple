<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Apple of Fortune 1xBet Clone</title>
    <style>
        /* Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø®Ø·ÙˆØ· */
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap');

        * {
            box-sizing: border-box;
            user-select: none;
            font-family: 'Cairo', sans-serif;
            -webkit-tap-highlight-color: transparent; /* Ø¥Ø²Ø§Ù„Ø© Ù„ÙˆÙ† Ø§Ù„Ù†Ù‚Ø± Ø§Ù„Ø§Ø²Ø±Ù‚ ÙÙŠ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
        }

        body {
            margin: 0;
            padding: 0;
            background-color: #000;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        /* Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„ØªÙŠ Ø³ØªØ­Ù…Ù„ Ø§Ù„ØµÙˆØ±Ø© ÙƒØ®Ù„ÙÙŠØ© */
        .game-container {
            position: relative;
            width: 100%;
            max-width: 450px; /* Ø¹Ø±Ø¶ ØªÙ‚Ø±ÙŠØ¨ÙŠ Ù„Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
            height: 100vh; 
            background-image: url('image_3d1fdb.jpg'); /* Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„ØªÙŠ Ø±ÙØ¹ØªÙ‡Ø§ Ø£Ù†Øª */
            background-size: 100% 100%; /* Ù…Ø·Øª Ø§Ù„ØµÙˆØ±Ø© Ù„ØªÙ…Ù„Ø£ Ø§Ù„Ø´Ø§Ø´Ø© */
            background-repeat: no-repeat;
            background-position: center;
        }

        /* --- 1. ØªØºØ·ÙŠØ© Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø«Ø§Ø¨ØªØ© ÙÙŠ Ø§Ù„ØµÙˆØ±Ø© (Ø§Ù„Ø±ØµÙŠØ¯ ÙˆØ§Ù„Ø±Ù‡Ø§Ù†) --- */
        
        /* Ù…ÙƒØ§Ù† Ø§Ù„Ø±ØµÙŠØ¯ ÙÙŠ Ø§Ù„Ø£Ø¹Ù„Ù‰ */
        .balance-overlay {
            position: absolute;
            top: 6.5%; /* ØªØ¹Ø¯ÙŠÙ„ Ø­Ø³Ø¨ Ø§Ù„ØµÙˆØ±Ø© */
            left: 50%;
            transform: translateX(-50%);
            width: 120px;
            height: 30px;
            background-color: #2a2a2a; /* Ù„ÙˆÙ† Ù…Ù‚Ø§Ø±Ø¨ Ù„Ù„Ø®Ù„ÙÙŠØ© Ù„Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ù‚Ø¯ÙŠÙ… */
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-weight: bold;
            font-size: 16px;
            border-radius: 5px;
            z-index: 10;
        }

        /* Ù…ÙƒØ§Ù† Ø¥Ø¯Ø®Ø§Ù„ Ù…Ø¨Ù„Øº Ø§Ù„Ø±Ù‡Ø§Ù† ÙÙŠ Ø§Ù„Ø£Ø³ÙÙ„ */
        .bet-input-overlay {
            position: absolute;
            bottom: 12%; /* ØªØ¹Ø¯ÙŠÙ„ Ø­Ø³Ø¨ Ø§Ù„ØµÙˆØ±Ø© */
            right: 15%; /* ØªØ¹Ø¯ÙŠÙ„ Ù„Ø¶Ø¨Ø· Ø§Ù„Ù…ÙƒØ§Ù† */
            width: 120px;
            height: 40px;
            background-color: #383a40; /* ØªØºØ·ÙŠØ© Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ù‚Ø¯ÙŠÙ… */
            border: none;
            color: white;
            font-size: 18px;
            font-weight: bold;
            text-align: right;
            z-index: 10;
            outline: none;
            border-radius: 5px;
        }

        /* --- 2. Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø´ÙØ§ÙØ© (ÙÙˆÙ‚ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù…Ø±Ø³ÙˆÙ…Ø© ÙÙŠ Ø§Ù„ØµÙˆØ±Ø©) --- */
        
        .control-btn {
            position: absolute;
            bottom: 21%; /* Ø§Ø±ØªÙØ§Ø¹ ØµÙ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØµÙØ±Ø§Ø¡ */
            height: 40px;
            width: 18%;
            background-color: transparent; /* Ø´ÙØ§Ù */
            /* border: 1px solid red;  Ù„Ù„ØªØ¬Ø±Ø¨Ø© ÙÙ‚Ø·: ÙØ¹Ù„ Ù‡Ø°Ø§ Ø§Ù„Ø³Ø·Ø± Ù„ØªØ±Ù‰ Ø£Ù…Ø§ÙƒÙ† Ø§Ù„Ø£Ø²Ø±Ø§Ø± */ 
            cursor: pointer;
            z-index: 20;
        }

        /* ØªØ­Ø¯ÙŠØ¯ Ø£Ù…Ø§ÙƒÙ† Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø£ÙÙ‚ÙŠØ§Ù‹ */
        .btn-min { left: 5%; }
        .btn-x2  { left: 28%; }
        .btn-div2 { right: 28%; }
        .btn-max { right: 5%; }

        /* Ø²Ø± "Ø§Ù„Ø±Ù‡Ø§Ù†" Ø§Ù„ÙƒØ¨ÙŠØ± */
        .btn-action {
            position: absolute;
            bottom: 11.5%;
            left: 5%;
            width: 30%;
            height: 50px;
            background-color: transparent;
            /* border: 1px solid red; Ù„Ù„ØªØ¬Ø±Ø¨Ø© */
            cursor: pointer;
            z-index: 20;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            font-size: 18px;
            color: transparent; /* Ø§Ù„Ù†Øµ Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ Ø§Ù„ØµÙˆØ±Ø© Ø£ØµÙ„Ø§Ù‹ */
        }

        /* Ù†Øµ "Ø§Ù„Ø±Ù‡Ø§Ù†" Ø£Ùˆ "Ø³Ø­Ø¨" Ù†Ø­ØªØ§Ø¬ Ø¥Ø¸Ù‡Ø§Ø±Ù‡ ÙÙˆÙ‚ Ø§Ù„Ø²Ø± ÙÙŠ Ø­Ø§Ù„Ø© ØªØºÙŠØ± Ø§Ù„Ø­Ø§Ù„Ø© */
        .action-text-overlay {
            position: absolute;
            bottom: 11.5%;
            left: 5%;
            width: 30%;
            height: 50px;
            display: flex;
            justify-content: center;
            align-items: center;
            pointer-events: none; /* Ù„Ø§ ÙŠØ¹ÙŠÙ‚ Ø§Ù„Ù†Ù‚Ø± */
            color: #000;
            font-weight: bold;
            font-size: 18px;
            z-index: 21;
        }

        /* --- 3. Ø´Ø¨ÙƒØ© Ø§Ù„Ù„Ø¹Ø¨ (ÙÙˆÙ‚ Ø§Ù„ØªÙØ§Ø­Ø§Øª) --- */
        .grid-overlay {
            position: absolute;
            top: 18%; /* Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø´Ø¨ÙƒØ© Ù…Ù† Ø§Ù„Ø£Ø¹Ù„Ù‰ */
            left: 17%; /* ØªØ±Ùƒ Ù…Ø³Ø§ÙØ© Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„ÙŠØ³Ø§Ø± */
            right: 3%;
            height: 52%; /* Ø§Ø±ØªÙØ§Ø¹ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù„Ø¹Ø¨ */
            display: flex;
            flex-direction: column-reverse; /* Ø§Ù„ØµÙÙˆÙ ØªØ¨Ø¯Ø£ Ù…Ù† Ø§Ù„Ø£Ø³ÙÙ„ */
            gap: 1.5%; /* Ù…Ø³Ø§ÙØ§Øª ØµØºÙŠØ±Ø© Ø¨ÙŠÙ† Ø§Ù„ØµÙÙˆÙ */
            z-index: 15;
        }

        .row {
            flex: 1;
            display: flex;
            gap: 2%;
        }

        .cell {
            flex: 1;
            /* border: 1px solid rgba(255,0,0,0.3); Ù„Ù„ØªØ¬Ø±Ø¨Ø©: Ø­Ø¯ÙˆØ¯ Ø­Ù…Ø±Ø§Ø¡ Ø®ÙÙŠÙØ© */
            cursor: pointer;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: 50%;
        }
        
        /* ØªØ£Ø«ÙŠØ± Ø¹Ù†Ø¯ ØªÙØ¹ÙŠÙ„ Ø§Ù„ØµÙ */
        .row.active-row .cell {
            background-color: rgba(255, 255, 0, 0.1); /* Ø¥Ø¶Ø§Ø¡Ø© Ø®ÙÙŠÙØ© Ù„Ù„ØµÙ Ø§Ù„Ù†Ø´Ø· */
            box-shadow: 0 0 5px #ffc107;
        }

        /* Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ØªÙØ§Ø­Ø© (Ø³Ù†Ø³ØªØ®Ø¯Ù… Ø¥ÙŠÙ…ÙˆØ¬ÙŠ Ø£Ùˆ ÙŠÙ…ÙƒÙ†Ùƒ ÙˆØ¶Ø¹ ØµÙˆØ±Ø© img) */
        .cell span {
            font-size: 30px;
            display: none; /* Ù…Ø®ÙÙŠ Ø§ÙØªØ±Ø§Ø¶ÙŠØ§Ù‹ */
            filter: drop-shadow(0 2px 2px rgba(0,0,0,0.5));
        }

        /* Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†ØªÙŠØ¬Ø© */
        .message-modal {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.9);
            border: 2px solid #ffc107;
            padding: 20px 40px;
            color: white;
            text-align: center;
            border-radius: 15px;
            z-index: 100;
            display: none;
        }

    </style>
</head>
<body>

    <div class="game-container">
        
        <div class="balance-overlay">
            <span id="balanceDisplay">105.00</span> UM
        </div>

        <div class="grid-overlay" id="gridContainer">
            </div>

        <div class="control-btn btn-min" onclick="setBet('min')"></div>
        <div class="control-btn btn-x2" onclick="setBet('x2')"></div>
        <div class="control-btn btn-div2" onclick="setBet('div2')"></div>
        <div class="control-btn btn-max" onclick="setBet('max')"></div>

        <input type="number" id="betInput" class="bet-input-overlay" value="20.00">
        
        <div class="btn-action" id="actionBtn" onclick="gameAction()"></div>
        <div class="action-text-overlay" id="actionText"></div>

        <div id="msgModal" class="message-modal">
            <h2 id="msgTitle"></h2>
            <p id="msgBody"></p>
        </div>

    </div>

    <script>
        // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©
        // Ø§Ù„Ù†Ø³Ø¨ (Odds) ÙƒÙ…Ø§ ÙÙŠ Ø§Ù„ØµÙˆØ±Ø© ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹
        const odds = [1.23, 1.54, 1.93, 2.41, 4.02, 6.71, 11.18, 27.97, 69.93, 349.68];
        let balance = 105.00;
        let currentBet = 20.00;
        let currentRow = 0;
        let isGameRunning = false;
        
        const gridContainer = document.getElementById('gridContainer');
        const balanceDisplay = document.getElementById('balanceDisplay');
        const betInput = document.getElementById('betInput');
        const actionText = document.getElementById('actionText');
        const msgModal = document.getElementById('msgModal');

        // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø´Ø¨ÙƒØ© (10 ØµÙÙˆÙ Ã— 5 Ø£Ø¹Ù…Ø¯Ø©)
        function createGrid() {
            gridContainer.innerHTML = '';
            for (let i = 0; i < 10; i++) {
                let row = document.createElement('div');
                row.className = 'row';
                row.id = `row-${i}`;
                
                for (let j = 0; j < 5; j++) {
                    let cell = document.createElement('div');
                    cell.className = 'cell';
                    cell.onclick = () => selectCell(i, j, cell);
                    
                    // Ø¹Ù†ØµØ± Ø§Ù„ØµÙˆØ±Ø© Ø¯Ø§Ø®Ù„ Ø§Ù„Ø®Ù„ÙŠØ© (Ø³Ù†Ø³ØªØ®Ø¯Ù… Ø¥ÙŠÙ…ÙˆØ¬ÙŠ Ù…Ø¤Ù‚ØªØ§Ù‹ Ù„Ø³Ù‡ÙˆÙ„Ø© Ø§Ù„ØªØ¹Ø¯ÙŠÙ„)
                    let icon = document.createElement('span');
                    cell.appendChild(icon);
                    
                    row.appendChild(cell);
                }
                gridContainer.appendChild(row);
            }
        }

        // Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø£Ùˆ Ø³Ø­Ø¨ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­
        function gameAction() {
            if (!isGameRunning) {
                // Ø¨Ø¯Ø¡ Ø±Ù‡Ø§Ù† Ø¬Ø¯ÙŠØ¯
                let betVal = parseFloat(betInput.value);
                if (betVal > balance) {
                    alert("Ø±ØµÙŠØ¯Ùƒ ØºÙŠØ± ÙƒØ§ÙÙŠ!");
                    return;
                }
                if (betVal < 1) {
                    alert("Ø§Ù„Ø±Ù‡Ø§Ù† ØºÙŠØ± ØµØ­ÙŠØ­");
                    return;
                }

                // Ø®ØµÙ… Ø§Ù„Ø±ØµÙŠØ¯
                balance -= betVal;
                currentBet = betVal;
                updateUI();
                
                // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù„Ø¹Ø¨Ø©
                isGameRunning = true;
                currentRow = 0;
                resetGrid();
                highlightRow(0);
                
                // ØªØºÙŠÙŠØ± Ù†Øµ Ø§Ù„Ø²Ø± (ÙÙŠ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø£ØµÙ„ÙŠØ© Ø§Ù„Ø²Ø± Ù…ÙƒØªÙˆØ¨ Ø¹Ù„ÙŠÙ‡ "Ø§Ù„Ø±Ù‡Ø§Ù†" Ø¨Ø§Ù„ØµÙˆØ±Ø©)
                // Ø³Ù†Ø¶Ø¹ ÙƒÙ„Ù…Ø© "Ø³Ø­Ø¨" ÙÙˆÙ‚Ù‡ Ø¹Ù†Ø¯Ù…Ø§ ØªØ¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©
                actionText.innerText = "Ø³Ø­Ø¨";
                actionText.style.color = "#fff";
                actionText.style.background = "rgba(0,128,0,0.8)"; // Ø®Ù„ÙÙŠØ© Ø®Ø¶Ø±Ø§Ø¡ Ù„Ù„Ø³Ø­Ø¨
                actionText.style.borderRadius = "5px";

            } else {
                // Ø³Ø­Ø¨ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ (Cashout)
                cashOut();
            }
        }

        function selectCell(row, col, cellElement) {
            if (!isGameRunning) return;
            if (row !== currentRow) return;

            const iconSpan = cellElement.querySelector('span');
            
            // Ù…Ù†Ø·Ù‚ Ø§Ù„ÙÙˆØ² ÙˆØ§Ù„Ø®Ø³Ø§Ø±Ø© (Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ù„Ù„Ù…Ø­Ø§ÙƒØ§Ø©)
            // Ù†Ø³Ø¨Ø© Ù†Ø¬Ø§Ø­ 80% Ù„Ù„ØªØ¬Ø±Ø¨Ø©
            const isGood = Math.random() > 0.2; 

            if (isGood) {
                // ØªÙØ§Ø­Ø© Ø³Ù„ÙŠÙ…Ø©
                iconSpan.innerText = "ğŸ"; 
                iconSpan.style.display = "block";
                
                currentRow++;
                if (currentRow >= 10) {
                    cashOut(true); // ÙÙˆØ² Ø¨Ø§Ù„Ù†Ù‡Ø§ÙŠØ©
                } else {
                    highlightRow(currentRow);
                }
            } else {
                // ØªÙØ§Ø­Ø© ÙØ§Ø³Ø¯Ø©
                iconSpan.innerText = "ğŸ›"; // ØªÙØ§Ø­Ø© Ù…Ø£ÙƒÙˆÙ„Ø©
                iconSpan.style.display = "block";
                gameOver();
            }
        }

        function gameOver() {
            isGameRunning = false;
            showMessage("Ø®Ø³Ø§Ø±Ø©", "Ø­Ø¸ Ø£ÙˆÙØ± ÙÙŠ Ø§Ù„Ù…Ø±Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©");
            resetButton();
        }

        function cashOut(maxWin = false) {
            let multiplier = currentRow > 0 ? odds[currentRow - 1] : 0;
            // Ø¥Ø°Ø§ Ø³Ø­Ø¨ Ø¯ÙˆÙ† Ù„Ø¹Ø¨ØŒ Ù†Ø¹ÙŠØ¯ Ù„Ù‡ Ù…Ø§Ù„Ù‡ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ) Ø£Ùˆ ÙŠØ®Ø³Ø±ØŒ Ù‡Ù†Ø§ Ø³Ù†ÙØªØ±Ø¶ Ø£Ù†Ù‡ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙ„Ø¹Ø¨ Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø©
            if (currentRow === 0) multiplier = 0; 

            let winAmount = currentBet * multiplier;
            balance += winAmount;
            
            isGameRunning = false;
            updateUI();
            showMessage("Ù…Ø¨Ø±ÙˆÙƒ!", `Ø±Ø¨Ø­Øª: ${winAmount.toFixed(2)} UM`);
            resetButton();
        }

        function highlightRow(rowIndex) {
            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªØ¸Ù„ÙŠÙ„ Ø¹Ù† Ø§Ù„ÙƒÙ„
            document.querySelectorAll('.row').forEach(r => r.classList.remove('active-row'));
            // ØªØ¸Ù„ÙŠÙ„ Ø§Ù„ØµÙ Ø§Ù„Ø­Ø§Ù„ÙŠ
            document.getElementById(`row-${rowIndex}`).classList.add('active-row');
        }

        function resetGrid() {
            document.querySelectorAll('.cell span').forEach(span => {
                span.style.display = 'none';
                span.innerText = '';
            });
            document.querySelectorAll('.row').forEach(r => r.classList.remove('active-row'));
        }

        function resetButton() {
            actionText.innerText = ""; // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù†Øµ Ù„ÙŠØ¹ÙˆØ¯ Ø§Ù„Ø²Ø± ÙƒÙ…Ø§ ÙÙŠ Ø§Ù„ØµÙˆØ±Ø© "Ø§Ù„Ø±Ù‡Ø§Ù†"
            actionText.style.background = "transparent";
        }

        function updateUI() {
            balanceDisplay.innerText = balance.toFixed(2);
        }

        function showMessage(title, body) {
            document.getElementById('msgTitle').innerText = title;
            document.getElementById('msgBody').innerText = body;
            msgModal.style.display = 'block';
            setTimeout(() => {
                msgModal.style.display = 'none';
            }, 2000);
        }

        // Ù…Ù†Ø·Ù‚ Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ…
        function setBet(type) {
            let val = parseFloat(betInput.value);
            if(type === 'min') val = 10;
            if(type === 'max') val = balance;
            if(type === 'x2') val *= 2;
            if(type === 'div2') val /= 2;
            
            betInput.value = val.toFixed(2);
        }

        // ØªØ´ØºÙŠÙ„ Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
        createGrid();
        updateUI();

    </script>
</body>
</html>
