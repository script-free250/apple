<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Apple of Fortune Simulation</title>
    <style>
        /* --- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø®Ø·ÙˆØ· ÙˆØ§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø¹Ø§Ù…Ø© --- */
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap');

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            user-select: none; /* Ù„Ù…Ù†Ø¹ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù†ØµÙˆØµ Ù…Ø«Ù„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ */
            font-family: 'Cairo', sans-serif;
        }

        body {
            background-color: #0f2b1d; /* Ù„ÙˆÙ† Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ */
            /* ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø§Ù„Ø±Ø§Ø¨Ø· Ø£Ø¯Ù†Ø§Ù‡ Ø¨ØµÙˆØ±Ø© Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„ØºØ§Ø¨Ø© Ø§Ù„Ø¶Ø¨Ø§Ø¨ÙŠØ© */
            background-image: radial-gradient(circle at 50% 30%, #204d36 0%, #0f2b1d 80%);
            color: white;
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* --- Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ø¹Ù„ÙˆÙŠ --- */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 15px;
            background: rgba(0, 0, 0, 0.2);
        }

        .balance-container {
            background-color: #333;
            border: 1px solid #555;
            padding: 5px 15px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: bold;
            font-size: 14px;
        }

        .coin-icon {
            color: #ffc107;
            font-size: 18px;
        }

        .icons-right {
            font-size: 20px;
            opacity: 0.8;
        }

        /* --- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© (Ø§Ù„Ø´Ø¨ÙƒØ©) --- */
        .game-board-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center; /* ØªÙˆØ³ÙŠØ· Ø¹Ù…ÙˆØ¯ÙŠ */
            padding: 10px;
            position: relative;
            max-width: 500px;
            margin: 0 auto;
            width: 100%;
        }

        .rows-container {
            display: flex;
            flex-direction: column-reverse; /* Ù„ÙƒÙŠ ÙŠØ¨Ø¯Ø£ Ø§Ù„ØµÙ Ø§Ù„Ø£ÙˆÙ„ Ù…Ù† Ø§Ù„Ø£Ø³ÙÙ„ */
            gap: 8px;
        }

        /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ØµÙ Ø§Ù„ÙˆØ§Ø­Ø¯ */
        .game-row {
            display: flex;
            align-items: center;
            opacity: 0.5; /* Ø§Ù„ØµÙÙˆÙ ØºÙŠØ± Ø§Ù„Ù†Ø´Ø·Ø© ØªÙƒÙˆÙ† Ø¨Ø§Ù‡ØªØ© */
            transition: opacity 0.3s;
            pointer-events: none; /* ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ù†Ù‚Ø± Ø§ÙØªØ±Ø§Ø¶ÙŠØ§Ù‹ */
        }

        /* Ø§Ù„ØµÙ Ø§Ù„Ù†Ø´Ø· */
        .game-row.active-row {
            opacity: 1;
            pointer-events: all;
            transform: scale(1.02); /* ØªÙƒØ¨ÙŠØ± Ø¨Ø³ÙŠØ· Ù„Ù„ØªÙ…ÙŠØ² */
        }

        /* Ø¹Ù…ÙˆØ¯ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… (Odds) Ø¹Ù„Ù‰ Ø§Ù„ÙŠØ³Ø§Ø± */
        .odds-label {
            width: 60px;
            font-size: 12px;
            color: rgba(255, 255, 255, 0.7);
            text-align: left;
            padding-left: 5px;
            font-family: sans-serif;
            font-weight: bold;
        }

        /* Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø®Ø§Ù†Ø§Øª Ø§Ù„Ø®Ù…Ø³ */
        .cells-row {
            flex: 1;
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 8px;
        }

        /* --- ØªØµÙ…ÙŠÙ… Ø§Ù„Ø®Ø§Ù†Ø© (Ø§Ù„Ø·Ø¨Ù‚/Ø§Ù„ØªÙØ§Ø­Ø©) --- */
        .cell {
            aspect-ratio: 1/1; /* ÙŠØ¬Ø¹Ù„Ù‡Ø§ Ù…Ø±Ø¨Ø¹Ø©/Ø¯Ø§Ø¦Ø±ÙŠØ© Ø¯Ø§Ø¦Ù…Ø§Ù‹ */
            border-radius: 50%;
            position: relative;
            cursor: pointer;
            
            /* --- [Ù…ÙƒØ§Ù† ÙˆØ¶Ø¹ ØµÙˆØ±Ø© Ø§Ù„ØºØ·Ø§Ø¡ Ø§Ù„Ø®Ø´Ø¨ÙŠ] --- */
            background: linear-gradient(145deg, #8d6e63, #5d4037); 
            /* Ù…Ø«Ø§Ù„ Ù„Ø¥Ø¶Ø§ÙØ© ØµÙˆØ±ØªÙƒ:
               background-image: url('images/wood_cover.png');
               background-size: cover;
            */
            
            box-shadow: 0 4px 6px rgba(0,0,0,0.5);
            transition: transform 0.2s;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
        }

        .cell:active {
            transform: scale(0.9);
        }

        /* Ø­Ø§Ù„Ø© Ø§Ù„ØªÙØ§Ø­Ø© Ø§Ù„Ø³Ù„ÙŠÙ…Ø© */
        .cell.revealed-good {
            /* --- [Ù…ÙƒØ§Ù† ÙˆØ¶Ø¹ ØµÙˆØ±Ø© Ø§Ù„ØªÙØ§Ø­Ø© Ø§Ù„Ø³Ù„ÙŠÙ…Ø©] --- */
            background: transparent; 
            /* background-image: url('images/apple_good.png'); */
        }
        .cell.revealed-good::after {
            content: "ğŸ"; /* Ø§ÙŠÙ…ÙˆØ¬ÙŠ Ù…Ø¤Ù‚Øª Ø­ØªÙ‰ ØªØ¶Ø¹ Ø§Ù„ØµÙˆØ±Ø© */
            font-size: 30px;
        }

        /* Ø­Ø§Ù„Ø© Ø§Ù„ØªÙØ§Ø­Ø© Ø§Ù„ÙØ§Ø³Ø¯Ø© */
        .cell.revealed-bad {
             /* --- [Ù…ÙƒØ§Ù† ÙˆØ¶Ø¹ ØµÙˆØ±Ø© Ø§Ù„ØªÙØ§Ø­Ø© Ø§Ù„Ù…Ø¹Ø¶ÙˆØ¶Ø©] --- */
             background: transparent;
             /* background-image: url('images/apple_rotten.png'); */
        }
        .cell.revealed-bad::after {
            content: "ğŸ›"; /* Ø§ÙŠÙ…ÙˆØ¬ÙŠ Ù…Ø¤Ù‚Øª */
            font-size: 30px;
        }

        /* --- Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø³ÙÙ„ÙŠØ© --- */
        .controls-area {
            background-color: #1a1a1a;
            padding: 15px;
            border-top-left-radius: 20px;
            border-top-right-radius: 20px;
            box-shadow: 0 -5px 20px rgba(0,0,0,0.5);
        }

        /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù…Ø¶Ø§Ø¹ÙØ© ÙˆØ§Ù„Ù‚Ø³Ù…Ø© */
        .quick-actions {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 8px;
            margin-bottom: 12px;
        }

        .btn-gray {
            background-color: #3b3b3b; /* Ø±Ù…Ø§Ø¯ÙŠ ØºØ§Ù…Ù‚ */
            color: #d1d1d1;
            border: none;
            padding: 10px;
            border-radius: 8px;
            font-weight: bold;
            font-size: 14px;
            cursor: pointer;
        }
        .btn-gold {
            background-color: #e6ac00; /* Ø£ØµÙØ± Ø°Ù‡Ø¨ÙŠ */
            color: #000;
        }

        /* Ù…Ù†Ø·Ù‚Ø© Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø±Ù‡Ø§Ù† ÙˆØ²Ø± Ø§Ù„Ø¨Ø¯Ø¡ */
        .bet-input-group {
            display: flex;
            align-items: stretch;
            background-color: #2c2c2c;
            border-radius: 10px;
            overflow: hidden;
            border: 1px solid #444;
            height: 55px;
        }

        .main-btn {
            background: linear-gradient(to bottom, #ffc107, #ff9800);
            border: none;
            color: #000;
            font-weight: bold;
            font-size: 18px;
            padding: 0 30px;
            cursor: pointer;
            width: 120px;
        }

        .input-wrapper {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding-right: 15px;
            text-align: right;
            position: relative;
        }

        .input-wrapper input {
            background: transparent;
            border: none;
            color: white;
            font-size: 18px;
            width: 100%;
            text-align: right;
            outline: none;
            font-weight: bold;
        }

        .input-label {
            font-size: 10px;
            color: #aaa;
            margin-bottom: 2px;
        }

        .currency {
            position: absolute;
            left: 10px;
            color: #aaa;
            font-size: 14px;
        }

        /* Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø³ÙÙ„ÙŠ Ø¬Ø¯Ø§Ù‹ */
        .bottom-nav {
            display: flex;
            justify-content: space-between;
            padding-top: 15px;
            color: #aaa;
            font-size: 12px;
        }
        
        /* Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ÙÙˆØ² ÙˆØ§Ù„Ø®Ø³Ø§Ø±Ø© */
        .message-overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.8);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            display: none;
            z-index: 100;
            border: 2px solid #ffc107;
        }
    </style>
</head>
<body>

    <header>
        <div class="icons-right">â“˜</div>
        <div class="balance-container">
            <span class="coin-icon">+</span>
            <span id="balanceDisplay">105.00</span> UM
        </div>
        <div class="icons-right">âœ</div>
    </header>

    <div class="game-board-container">
        <div id="resultMessage" class="message-overlay">
            <h2 id="msgText">Winner!</h2>
            <p id="msgSub">X1.23</p>
        </div>

        <div class="rows-container" id="gridContainer">
            </div>
    </div>

    <div class="controls-area">
        <div class="quick-actions">
            <button class="btn-gray btn-gold" onclick="setBet('min')">Ø£Ø¯Ù†Ù‰</button>
            <button class="btn-gray btn-gold" onclick="setBet('x2')">X2</button>
            <button class="btn-gray btn-gold" onclick="setBet('div2')">X/2</button>
            <button class="btn-gray btn-gold" onclick="setBet('max')">Ø£Ù‚ØµÙ‰</button>
        </div>

        <div class="bet-input-group">
            <button id="actionBtn" class="main-btn" onclick="startGame()">Ø§Ù„Ø±Ù‡Ø§Ù†</button>
            <div class="input-wrapper">
                <span class="input-label">Ù…Ø¨Ù„Øº Ø§Ù„Ø±Ù‡Ø§Ù†</span>
                <input type="number" id="betInput" value="20.00">
                <span class="currency">UM</span>
            </div>
        </div>

        <div class="bottom-nav">
            <span>âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</span>
            <span>âš¡ Ø¨Ù†Ù‚Ø±Ø© ÙˆØ§Ø­Ø¯Ø©</span>
        </div>
    </div>

    <script>
        // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©
        const oddsList = [1.23, 1.54, 1.93, 2.41, 4.02, 6.71, 11.18, 27.97, 69.93, 349.68];
        let currentLevel = 0;
        let isGameActive = false;
        let balance = 105.00;
        let currentBet = 20.00;

        const gridContainer = document.getElementById('gridContainer');
        const actionBtn = document.getElementById('actionBtn');
        const betInput = document.getElementById('betInput');
        const balanceDisplay = document.getElementById('balanceDisplay');
        const resultMessage = document.getElementById('resultMessage');

        // 1. ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø´Ø¨ÙƒØ© Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
        function initGrid() {
            gridContainer.innerHTML = '';
            // Ø¥Ù†Ø´Ø§Ø¡ 10 ØµÙÙˆÙ
            for (let i = 0; i < 10; i++) {
                const rowDiv = document.createElement('div');
                rowDiv.className = `game-row`;
                rowDiv.id = `row-${i}`;

                // Ø¥Ù†Ø´Ø§Ø¡ 5 Ø®Ø§Ù†Ø§Øª ÙÙŠ ÙƒÙ„ ØµÙ
                const cellsDiv = document.createElement('div');
                cellsDiv.className = 'cells-row';
                
                for (let j = 0; j < 5; j++) {
                    const cell = document.createElement('div');
                    cell.className = 'cell';
                    cell.dataset.row = i;
                    cell.dataset.col = j;
                    cell.onclick = () => handleCellClick(i, j, cell);
                    cellsDiv.appendChild(cell);
                }

                // Ø¥Ø¶Ø§ÙØ© Ø¹Ù…ÙˆØ¯ Ø§Ù„Ù€ Odds
                const oddsDiv = document.createElement('div');
                oddsDiv.className = 'odds-label';
                oddsDiv.innerText = `x${oddsList[i]}`;

                // ØªØ¬Ù…ÙŠØ¹ Ø§Ù„ØµÙ (Ù„Ø§Ø­Ø¸ Ø§Ù„ØªØ±ØªÙŠØ¨ ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø§ØªØ¬Ø§Ù‡ Ø§Ù„ØµÙØ­Ø© RTL)
                rowDiv.appendChild(cellsDiv); 
                rowDiv.appendChild(oddsDiv); // Ø³ÙŠØ¸Ù‡Ø± Ø¹Ù„Ù‰ Ø§Ù„ÙŠØ³Ø§Ø± Ù„Ø£Ù†Ù†Ø§ ÙÙŠ ÙÙ„ÙŠÙƒØ³
                
                gridContainer.appendChild(rowDiv);
            }
        }

        // 2. Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
        function startGame() {
            if (isGameActive) {
                // Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¬Ø§Ø±ÙŠØ©ØŒ Ø§Ù„Ø²Ø± ÙŠØ¹Ù…Ù„ ÙƒÙ€ "Ø³Ø­Ø¨ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­"
                cashOut();
                return;
            }

            currentBet = parseFloat(betInput.value);
            if (currentBet > balance) {
                alert("Ø§Ù„Ø±ØµÙŠØ¯ ØºÙŠØ± ÙƒØ§ÙÙŠ!");
                return;
            }

            // Ø®ØµÙ… Ø§Ù„Ø±ØµÙŠØ¯
            balance -= currentBet;
            updateBalance();

            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø­Ø§Ù„Ø©
            isGameActive = true;
            currentLevel = 0;
            resultMessage.style.display = 'none';
            
            // ØªØºÙŠÙŠØ± Ù†Øµ Ø§Ù„Ø²Ø±
            actionBtn.innerText = "Ø³Ø­Ø¨";
            actionBtn.style.background = "#4caf50"; // Ù„ÙˆÙ† Ø£Ø®Ø¶Ø± Ù„Ù„Ø³Ø­Ø¨
            actionBtn.style.color = "white";

            // Ø¥Ø¹Ø§Ø¯Ø© Ø±Ø³Ù… Ø§Ù„Ø´Ø¨ÙƒØ© Ù†Ø¸ÙŠÙØ©
            resetGridVisuals();
            activateRow(0);
        }

        // 3. Ù…Ù†Ø·Ù‚ Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø§Ù†Ø©
        function handleCellClick(row, col, cellElement) {
            if (!isGameActive) return;
            if (row !== currentLevel) return; // Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„Ù†Ù‚Ø± ÙÙ‚Ø· ÙÙŠ Ø§Ù„ØµÙ Ø§Ù„Ø­Ø§Ù„ÙŠ

            // Ù…Ù†Ø·Ù‚ Ø§Ù„ÙÙˆØ²/Ø§Ù„Ø®Ø³Ø§Ø±Ø© (Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ø¨Ø³ÙŠØ· Ù„Ù„Ù…Ø­Ø§ÙƒØ§Ø©)
            // ÙƒÙ„Ù…Ø§ Ø§Ø±ØªÙØ¹ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ØŒ Ø²Ø§Ø¯Øª Ø§Ù„ØµØ¹ÙˆØ¨Ø© (Ù…Ø­Ø§ÙƒØ§Ø©)
            const isWin = Math.random() > 0.2; // Ù†Ø³Ø¨Ø© ÙÙˆØ² 80% Ù„Ù„ØªØ¬Ø±Ø¨Ø©

            if (isWin) {
                // Ø­Ø§Ù„Ø© Ø§Ù„ÙÙˆØ²
                cellElement.classList.add('revealed-good');
                
                // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠ
                currentLevel++;
                if (currentLevel < 10) {
                    activateRow(currentLevel);
                } else {
                    // Ø§Ù„ÙÙˆØ² Ø¨Ø§Ù„Ù„Ø¹Ø¨Ø© ÙƒØ§Ù…Ù„Ø©
                    cashOut(true);
                }
            } else {
                // Ø­Ø§Ù„Ø© Ø§Ù„Ø®Ø³Ø§Ø±Ø©
                cellElement.classList.add('revealed-bad');
                gameOver();
            }
        }

        // 4. ØªÙØ¹ÙŠÙ„ Ø§Ù„ØµÙ Ø§Ù„Ø­Ø§Ù„ÙŠ
        function activateRow(levelIndex) {
            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªÙØ¹ÙŠÙ„ Ù…Ù† Ø§Ù„Ø¬Ù…ÙŠØ¹
            document.querySelectorAll('.game-row').forEach(row => {
                row.classList.remove('active-row');
            });

            // ØªÙØ¹ÙŠÙ„ Ø§Ù„ØµÙ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨
            const currentRow = document.getElementById(`row-${levelIndex}`);
            if (currentRow) {
                currentRow.classList.add('active-row');
            }
        }

        // 5. Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø© (Ø®Ø³Ø§Ø±Ø©)
        function gameOver() {
            isGameActive = false;
            resetBtnState();
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© Ø®Ø³Ø§Ø±Ø©
            showMessage("Ø­Ø¸ Ø£ÙˆÙØ±!", "Ø®Ø³Ø±Øª Ø§Ù„Ø±Ù‡Ø§Ù†", "#f44336");
            
            // ÙƒØ´Ù Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ù‚Ù†Ø§Ø¨Ù„ (Ù…Ø­Ø§ÙƒØ§Ø© Ø¨ØµØ±ÙŠØ© ÙÙ‚Ø·)
            // (ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© ÙƒÙˆØ¯ Ù‡Ù†Ø§ Ù„ÙƒØ´Ù Ù…ÙƒØ§Ù† Ø§Ù„ØªÙØ§Ø­Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©)
        }

        // 6. Ø³Ø­Ø¨ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ (ÙÙˆØ²)
        function cashOut(maxWin = false) {
            isGameActive = false;
            
            let multiplier = currentLevel > 0 ? oddsList[currentLevel - 1] : 1;
            // Ø¥Ø°Ø§ Ø¶ØºØ· Ø³Ø­Ø¨ Ù‚Ø¨Ù„ Ø§Ù„Ù„Ø¹Ø¨ØŒ ÙŠØ±Ø¬Ø¹ Ø§Ù„Ù…Ø¨Ù„Øº (Ø£Ùˆ Ø­Ø³Ø¨ Ù‚ÙˆØ§Ù†ÙŠÙ† Ø§Ù„Ù…ÙˆÙ‚Ø¹ØŒ Ù‡Ù†Ø§ Ø³Ù†ÙØªØ±Ø¶ Ø£Ù†Ù‡ ÙŠØ±Ø¨Ø­ Ø¢Ø®Ø± Ù…Ø³ØªÙˆÙ‰ ÙˆØµÙ„Ù‡)
            if (currentLevel === 0 && !maxWin) multiplier = 0; // Ø®Ø³Ø± Ø§Ù„Ø±Ù‡Ø§Ù† Ø¥Ø°Ø§ Ø§Ù†Ø³Ø­Ø¨ ÙÙˆØ±Ø§Ù‹ Ø¯ÙˆÙ† Ù„Ø¹Ø¨ (Ù„ØºØ±Ø¶ Ø§Ù„Ù…Ø«Ø§Ù„)

            const winAmount = (currentBet * multiplier).toFixed(2);
            balance += parseFloat(winAmount);
            updateBalance();
            resetBtnState();

            if (multiplier > 0) {
                showMessage("Ù…Ø¨Ø±ÙˆÙƒ!", `Ø±Ø¨Ø­Øª ${winAmount} UM`, "#4caf50");
            }
        }

        // Ø¯ÙˆØ§Ù„ Ù…Ø³Ø§Ø¹Ø¯Ø©
        function updateBalance() {
            balanceDisplay.innerText = balance.toFixed(2);
        }

        function resetBtnState() {
            actionBtn.innerText = "Ø§Ù„Ø±Ù‡Ø§Ù†";
            actionBtn.style.background = "linear-gradient(to bottom, #ffc107, #ff9800)";
            actionBtn.style.color = "#000";
        }

        function resetGridVisuals() {
            document.querySelectorAll('.cell').forEach(cell => {
                cell.className = 'cell'; // Ø¥Ø²Ø§Ù„Ø© ÙƒÙ„Ø§Ø³Ø§Øª revealed
            });
            document.querySelectorAll('.game-row').forEach(row => {
                row.classList.remove('active-row');
            });
        }

        function showMessage(title, sub, color) {
            const msgDiv = document.getElementById('resultMessage');
            document.getElementById('msgText').innerText = title;
            document.getElementById('msgSub').innerText = sub;
            msgDiv.style.borderColor = color;
            msgDiv.style.display = 'block';
            
            setTimeout(() => {
                msgDiv.style.display = 'none';
            }, 2000);
        }

        // Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ø±Ù‡Ø§Ù†
        function setBet(type) {
            let val = parseFloat(betInput.value);
            switch(type) {
                case 'min': val = 10; break;
                case 'max': val = balance; break;
                case 'x2': val *= 2; break;
                case 'div2': val /= 2; break;
            }
            if (val < 1) val = 1; 
            betInput.value = val.toFixed(2);
        }

        // ØªØ´ØºÙŠÙ„ Ø¹Ù†Ø¯ Ø§Ù„Ø¨Ø¯Ø¡
        initGrid();

    </script>
</body>
</html>
