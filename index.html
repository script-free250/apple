<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apple of Fortune Simulation</title>
    <style>
        /* Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø®Ø·ÙˆØ· ÙˆØ§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØªØ·Ø§Ø¨Ù‚ Ø§Ù„Ø«ÙŠÙ… Ø§Ù„Ù…Ø¸Ù„Ù… */
        @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap');

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            user-select: none;
        }

        body {
            font-family: 'Tajawal', sans-serif;
            background-color: #1b242d; /* Ù„ÙˆÙ† Ø®Ù„ÙÙŠØ© Ù‚Ø±ÙŠØ¨ Ù…Ù† Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø£ØµÙ„ÙŠ */
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            background-image: url('bg.png'); /* Ø®Ù„ÙÙŠØ© Ø§Ø®ØªÙŠØ§Ø±ÙŠØ© */
            background-size: cover;
            background-position: center;
        }

        /* --- Ø§Ù„Ù‡ÙŠØ¯Ø± (Ø§Ù„Ø±ØµÙŠØ¯ ÙˆØ§Ù„Ø±Ù‡Ø§Ù†) --- */
        header {
            width: 100%;
            padding: 15px;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #3d4a57;
        }

        .balance-box {
            background: #2c3844;
            padding: 8px 15px;
            border-radius: 5px;
            border: 1px solid #4a5a6a;
            font-weight: bold;
            color: #ffc107;
        }

        /* --- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© --- */
        .game-container {
            display: flex;
            gap: 20px;
            margin-top: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        /* --- Ø´Ø¨ÙƒØ© Ø§Ù„Ù„Ø¹Ø¨Ø© (Ø§Ù„Ù‡Ø±Ù…) --- */
        .game-board {
            background: rgba(30, 39, 48, 0.95);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #3d4a57;
            display: flex;
            flex-direction: column-reverse; /* Ù„ØªØ¨Ø¯Ø£ Ø§Ù„ØµÙÙˆÙ Ù…Ù† Ø§Ù„Ø£Ø³ÙÙ„ Ù„Ù„Ø£Ø¹Ù„Ù‰ */
            gap: 8px;
            width: 350px;
            position: relative;
        }

        .row {
            display: flex;
            gap: 8px;
            justify-content: center;
            position: relative;
            padding: 5px;
            border-radius: 5px;
            transition: 0.3s;
        }

        /* Ø§Ù„ØµÙ Ø§Ù„Ù†Ø´Ø· */
        .row.active {
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid #7cb342;
            box-shadow: 0 0 10px rgba(124, 179, 66, 0.3);
        }

        /* Ø§Ù„ØµÙÙˆÙ ØºÙŠØ± Ø§Ù„Ù†Ø´Ø·Ø© (Ø§Ù„Ù…Ø¹Ø·Ù„Ø©) */
        .row.disabled {
            opacity: 0.5;
            pointer-events: none;
        }

        /* --- Ø§Ù„Ø®Ù„ÙŠØ© (Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚) --- */
        .cell {
            width: 55px;
            height: 55px;
            background: #2c3844;
            border: 1px solid #4a5a6a;
            border-radius: 5px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            transition: transform 0.2s;
        }

        .cell:hover {
            background: #364452;
        }

        /* Ø§Ù„ØµÙˆØ±Ø© Ø¯Ø§Ø®Ù„ Ø§Ù„Ø®Ù„ÙŠØ© */
        .cell img {
            width: 80%;
            height: 80%;
            object-fit: contain;
            display: none; /* Ù…Ø®ÙÙŠØ© Ø§ÙØªØ±Ø§Ø¶ÙŠØ§Ù‹ */
            animation: popIn 0.3s ease-out;
        }

        .cell.revealed img {
            display: block;
        }

        /* Ø¹Ù„Ø§Ù…Ø© Ø§Ù„Ù…Ø¹Ø§Ù…Ù„ (Multiplier) Ø¨Ø¬Ø§Ù†Ø¨ Ø§Ù„ØµÙ */
        .odds-label {
            position: absolute;
            left: -45px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 12px;
            color: #8997a5;
        }

        .row.active .odds-label {
            color: #fff;
            font-weight: bold;
        }

        /* --- Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… --- */
        .controls {
            width: 350px;
            background: #2c3844;
            padding: 20px;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        label {
            font-size: 14px;
            color: #8997a5;
        }

        input[type="number"] {
            background: #1b242d;
            border: 1px solid #4a5a6a;
            color: white;
            padding: 10px;
            border-radius: 5px;
            font-size: 16px;
            outline: none;
        }

        button.start-btn {
            background: #7cb342;
            color: white;
            border: none;
            padding: 15px;
            border-radius: 5px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: 0.2s;
        }

        button.start-btn:hover {
            background: #6a9b34;
        }

        button.cashout-btn {
            background: #ffc107;
            color: #1b242d;
            border: none;
            padding: 15px;
            border-radius: 5px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            display: none; /* Ù…Ø®ÙÙŠ Ø­ØªÙ‰ ØªØ¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø© */
        }

        /* --- ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø­Ø±ÙƒØ© --- */
        @keyframes popIn {
            0% { transform: scale(0); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }

        /* Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†ØªÙŠØ¬Ø© */
        .result-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8);
            display: none;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            z-index: 1000;
        }

        .result-box {
            background: #2c3844;
            padding: 30px;
            border-radius: 10px;
            text-align: center;
            border: 2px solid;
        }
        
        .win { border-color: #7cb342; color: #7cb342; }
        .lose { border-color: #e53935; color: #e53935; }

    </style>
</head>
<body>

    <header>
        <div>Apple Game Sim</div>
        <div class="balance-box">Ø§Ù„Ø±ØµÙŠØ¯: <span id="balance">1000.00</span> Ø¯.Ø¥</div>
    </header>

    <div class="game-container">
        <div class="controls">
            <div class="input-group">
                <label>Ù…Ø¨Ù„Øº Ø§Ù„Ø±Ù‡Ø§Ù†</label>
                <input type="number" id="betAmount" value="10" min="1">
            </div>
            <button class="start-btn" id="startBtn" onclick="startGame()">Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©</button>
            <button class="cashout-btn" id="cashoutBtn" onclick="cashOut()">Ø³Ø­Ø¨ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­</button>
        </div>

        <div class="game-board" id="gameBoard">
            </div>
    </div>

    <div class="result-overlay" id="resultOverlay" onclick="closeResult()">
        <div class="result-box" id="resultBox">
            <h2 id="resultTitle"></h2>
            <p id="resultMessage"></p>
            <p style="margin-top:10px; font-size:12px; color:#fff;">Ø§Ø¶ØºØ· Ù„Ù„Ø¥ØºÙ„Ø§Ù‚</p>
        </div>
    </div>

    <script>
        // --- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø© ---
        const ROWS = 10;
        const COLS = 5;
        // Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø§Ù„Ø¶Ø±Ø¨ Ù„ÙƒÙ„ ØµÙ (Ù…Ù† Ø§Ù„Ø£Ø³ÙÙ„ Ù„Ù„Ø£Ø¹Ù„Ù‰: ØµÙ 1 Ø¥Ù„Ù‰ ØµÙ 10)
        const ODDS = [1.23, 1.54, 1.93, 2.41, 4.02, 6.71, 11.18, 27.96, 69.91, 349.54];
        
        // Ù…Ø³Ø§Ø±Ø§Øª Ø§Ù„ØµÙˆØ± (ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„ØµÙˆØ± Ø¨Ø¬Ø§Ù†Ø¨ Ø§Ù„Ù…Ù„Ù)
        // Ø¥Ø°Ø§ Ù„Ù… ØªÙˆØ¬Ø¯ ØµÙˆØ±ØŒ Ø³ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø±Ù…ÙˆØ² ØªØ¹Ø¨ÙŠØ±ÙŠØ© ÙƒØ¨Ø¯ÙŠÙ„ ÙÙŠ Ø§Ù„ÙƒÙˆØ¯ Ø£Ø¯Ù†Ø§Ù‡
        const IMG_APPLE = 'apple.png';
        const IMG_ROTTEN = 'rotten.png';

        // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø­Ø§Ù„Ø©
        let currentRow = 0;
        let isGameActive = false;
        let currentBet = 0;
        let balance = 1000.00;
        let gameData = []; // Ù„ØªØ®Ø²ÙŠÙ† Ø£Ù…Ø§ÙƒÙ† Ø§Ù„ØªÙØ§Ø­ ÙˆØ§Ù„Ù‚Ù†Ø§Ø¨Ù„

        const boardEl = document.getElementById('gameBoard');
        const startBtn = document.getElementById('startBtn');
        const cashoutBtn = document.getElementById('cashoutBtn');
        const balanceEl = document.getElementById('balance');
        const betInput = document.getElementById('betAmount');

        // Ø¯Ø§Ù„Ø© Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø´Ø¨ÙƒØ© Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
        function initBoard() {
            boardEl.innerHTML = '';
            for (let r = ROWS - 1; r >= 0; r--) {
                const rowEl = document.createElement('div');
                rowEl.className = 'row disabled';
                rowEl.id = `row-${r}`;
                
                // Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø§Ù…Ù„ Ø§Ù„Ø¶Ø±Ø¨ Ø¨Ø¬Ø§Ù†Ø¨ Ø§Ù„ØµÙ
                const oddsLabel = document.createElement('div');
                oddsLabel.className = 'odds-label';
                oddsLabel.innerText = `x${ODDS[r]}`;
                rowEl.appendChild(oddsLabel);

                for (let c = 0; c < COLS; c++) {
                    const cellEl = document.createElement('div');
                    cellEl.className = 'cell';
                    cellEl.onclick = () => handleCellClick(r, c);
                    cellEl.id = `cell-${r}-${c}`;
                    
                    // Ø¹Ù†ØµØ± Ø§Ù„ØµÙˆØ±Ø© Ø¯Ø§Ø®Ù„ Ø§Ù„Ø®Ù„ÙŠØ©
                    const img = document.createElement('img');
                    img.id = `img-${r}-${c}`;
                    cellEl.appendChild(img);

                    rowEl.appendChild(cellEl);
                }
                boardEl.appendChild(rowEl);
            }
        }

        // Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
        function startGame() {
            const bet = parseFloat(betInput.value);
            if (bet > balance) {
                alert("Ø§Ù„Ø±ØµÙŠØ¯ ØºÙŠØ± ÙƒØ§ÙÙŠ!");
                return;
            }
            if (bet <= 0) {
                alert("Ø£Ø¯Ø®Ù„ Ù…Ø¨Ù„Øº Ø±Ù‡Ø§Ù† ØµØ­ÙŠØ­");
                return;
            }

            // Ø®ØµÙ… Ø§Ù„Ø±ØµÙŠØ¯
            balance -= bet;
            currentBet = bet;
            updateBalance();

            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø­Ø§Ù„Ø©
            isGameActive = true;
            currentRow = 0;
            generateGameLogic();
            resetVisuals();

            // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø²Ø± ÙˆØ§Ù„ÙˆØ§Ø¬Ù‡Ø©
            startBtn.style.display = 'none';
            cashoutBtn.style.display = 'none'; // ÙŠØ¸Ù‡Ø± ÙÙ‚Ø· Ø¨Ø¹Ø¯ Ø§Ù„ÙÙˆØ² Ø¨Ø£ÙˆÙ„ ØµÙ
            activateRow(0);
        }

        // ØªÙˆÙ„ÙŠØ¯ Ù…Ù†Ø·Ù‚ Ø§Ù„Ù„Ø¹Ø¨Ø© (ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ù‚Ù†Ø§Ø¨Ù„)
        function generateGameLogic() {
            gameData = [];
            // ÙƒÙ„Ù…Ø§ ØµØ¹Ø¯Ù†Ø§ØŒ ØªØ²ÙŠØ¯ Ø§Ù„ØµØ¹ÙˆØ¨Ø© (Ø¹Ø¯Ø¯ Ø§Ù„Ù‚Ù†Ø§Ø¨Ù„)
            // Ù…Ø­Ø§ÙƒØ§Ø© ØªÙ‚Ø±ÙŠØ¨ÙŠØ© Ù„Ù„ØµØ¹ÙˆØ¨Ø©:
            // Ø§Ù„ØµÙÙˆÙ 0-3: Ù‚Ù†Ø¨Ù„Ø© ÙˆØ§Ø­Ø¯Ø©
            // Ø§Ù„ØµÙÙˆÙ 4-6: Ù‚Ù†Ø¨Ù„ØªÙŠÙ†
            // Ø§Ù„ØµÙÙˆÙ 7-8: 3 Ù‚Ù†Ø§Ø¨Ù„
            // Ø§Ù„ØµÙ 9: 4 Ù‚Ù†Ø§Ø¨Ù„
            
            for (let r = 0; r < ROWS; r++) {
                let bombCount = 1;
                if (r >= 4) bombCount = 2;
                if (r >= 7) bombCount = 3;
                if (r === 9) bombCount = 4;

                // Ø¥Ù†Ø´Ø§Ø¡ ØµÙ Ø¹Ø´ÙˆØ§Ø¦ÙŠ
                let rowData = Array(COLS).fill('apple'); // Ø§Ù…Ù„Ø£ ØªÙØ§Ø­
                // Ø¶Ø¹ Ø§Ù„Ù‚Ù†Ø§Ø¨Ù„ Ø¹Ø´ÙˆØ§Ø¦ÙŠØ§Ù‹
                for (let i = 0; i < bombCount; i++) {
                    let placed = false;
                    while (!placed) {
                        let randIndex = Math.floor(Math.random() * COLS);
                        if (rowData[randIndex] === 'apple') {
                            rowData[randIndex] = 'rotten';
                            placed = true;
                        }
                    }
                }
                gameData.push(rowData);
            }
        }

        // Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø®Ù„ÙŠØ©
        function handleCellClick(r, c) {
            if (!isGameActive || r !== currentRow) return;

            const cell = document.getElementById(`cell-${r}-${c}`);
            const img = document.getElementById(`img-${r}-${c}`);
            
            // Ø§Ù„ÙƒØ´Ù Ø¹Ù† Ø§Ù„Ù…Ø­ØªÙˆÙ‰
            const type = gameData[r][c];
            cell.classList.add('revealed');

            // Ø¥Ø°Ø§ Ù„Ù… ØªÙˆØ¬Ø¯ ØµÙˆØ±ØŒ Ø§Ø³ØªØ®Ø¯Ù… Ø§ÙŠÙ…ÙˆØ¬ÙŠ
            if (type === 'apple') {
                img.src = IMG_APPLE;
                img.alt = 'ğŸ'; // Ù†Øµ Ø¨Ø¯ÙŠÙ„ ÙÙŠ Ø­Ø§Ù„ Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ø§Ù„ØµÙˆØ±Ø©
                // ÙÙŠ Ø­Ø§Ù„Ø© Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ù…Ù„Ù Ø§Ù„ØµÙˆØ±Ø©ØŒ Ø£Ø¸Ù‡Ø± Ø§Ù„Ø§ÙŠÙ…ÙˆØ¬ÙŠ Ø¹Ø¨Ø± ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø®Ù„ÙÙŠØ© (Ø¥Ø¬Ø±Ø§Ø¡ Ø§Ø­ØªÙŠØ§Ø·ÙŠ)
                img.onerror = function() { this.style.display='none'; cell.innerHTML='ğŸ'; cell.style.fontSize='30px'; };
                
                handleWin(r);
            } else {
                img.src = IMG_ROTTEN;
                img.alt = 'ğŸ›';
                img.onerror = function() { this.style.display='none'; cell.innerHTML='ğŸ’£'; cell.style.fontSize='30px'; };
                
                handleLoss();
            }
        }

        function handleWin(r) {
            // ØªØ¹Ø·ÙŠÙ„ Ø§Ù„ØµÙ Ø§Ù„Ø­Ø§Ù„ÙŠ
            document.getElementById(`row-${r}`).classList.remove('active');
            document.getElementById(`row-${r}`).classList.add('disabled');

            // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„ØµÙ Ø§Ù„ØªØ§Ù„ÙŠ
            currentRow++;
            
            // ØªØ­Ø¯ÙŠØ« Ø²Ø± Ø§Ù„Ø³Ø­Ø¨
            const currentWin = (currentBet * ODDS[r]).toFixed(2);
            cashoutBtn.innerHTML = `Ø³Ø­Ø¨ ${currentWin} Ø¯.Ø¥`;
            cashoutBtn.style.display = 'block';

            if (currentRow >= ROWS) {
                // Ø§Ù„ÙÙˆØ² Ø¨Ø§Ù„Ù„Ø¹Ø¨Ø© ÙƒØ§Ù…Ù„Ø©
                cashOut();
            } else {
                // ØªÙØ¹ÙŠÙ„ Ø§Ù„ØµÙ Ø§Ù„ØªØ§Ù„ÙŠ
                activateRow(currentRow);
            }
        }

        function handleLoss() {
            isGameActive = false;
            cashoutBtn.style.display = 'none';
            
            // ÙƒØ´Ù Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ù‚Ù†Ø§Ø¨Ù„ ÙÙŠ Ø§Ù„ØµÙ Ø§Ù„Ø­Ø§Ù„ÙŠ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
            revealRow(currentRow);

            setTimeout(() => {
                showResult(false, 0);
                startBtn.style.display = 'block';
            }, 1000);
        }

        function cashOut() {
            if (!isGameActive) return;
            
            // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø±Ø¨Ø­ Ø¨Ù†Ø§Ø¡ Ø¹Ù„Ù‰ Ø¢Ø®Ø± ØµÙ ØªÙ… ØªØ¬Ø§ÙˆØ²Ù‡ (currentRow - 1)
            // Ø¥Ø°Ø§ Ø¶ØºØ· Ø³Ø­Ø¨ Ù‚Ø¨Ù„ Ø§Ù„Ù„Ø¹Ø¨ Ù„Ø§ ÙŠØ­Ø³Ø¨ØŒ Ù„ÙƒÙ† Ø§Ù„Ø²Ø± Ù…Ø®ÙÙŠ Ø£ØµÙ„Ø§Ù‹
            let winAmount = 0;
            if (currentRow > 0) {
                winAmount = currentBet * ODDS[currentRow - 1];
            }

            balance += winAmount;
            updateBalance();
            isGameActive = false;
            
            showResult(true, winAmount);
            
            startBtn.style.display = 'block';
            cashoutBtn.style.display = 'none';
            
            // ØªØ¹Ø·ÙŠÙ„ Ø§Ù„ØµÙ Ø§Ù„Ù†Ø´Ø·
            if (currentRow < ROWS) {
                document.getElementById(`row-${currentRow}`).classList.remove('active');
                document.getElementById(`row-${currentRow}`).classList.add('disabled');
            }
        }

        // Ø¯ÙˆØ§Ù„ Ù…Ø³Ø§Ø¹Ø¯Ø©
        function activateRow(r) {
            const row = document.getElementById(`row-${r}`);
            row.classList.remove('disabled');
            row.classList.add('active');
        }

        function resetVisuals() {
            initBoard(); // Ø¥Ø¹Ø§Ø¯Ø© Ø±Ø³Ù… Ø§Ù„Ø´Ø¨ÙƒØ© Ù†Ø¸ÙŠÙØ©
        }

        function revealRow(r) {
            // ÙƒØ´Ù ÙƒÙ„ Ù…Ø§ ÙÙŠ Ø§Ù„ØµÙ (Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„ÙŠØ±Ù‰ Ø£ÙŠÙ† ÙƒØ§Ù†Øª Ø§Ù„Ø®Ø³Ø§Ø±Ø©)
            for(let c=0; c<COLS; c++) {
                const cell = document.getElementById(`cell-${r}-${c}`);
                const img = document.getElementById(`img-${r}-${c}`);
                const type = gameData[r][c];
                
                if (!cell.classList.contains('revealed')) {
                    cell.classList.add('revealed');
                    cell.style.opacity = '0.5'; // Ø¬Ø¹Ù„ Ø§Ù„Ø®Ù„Ø§ÙŠØ§ Ø§Ù„Ø£Ø®Ø±Ù‰ Ø¨Ø§Ù‡ØªØ© Ù‚Ù„ÙŠÙ„Ø§Ù‹
                    if (type === 'apple') {
                        img.src = IMG_APPLE;
                        img.onerror = function() { this.style.display='none'; cell.innerHTML='ğŸ'; };
                    } else {
                        img.src = IMG_ROTTEN;
                        img.onerror = function() { this.style.display='none'; cell.innerHTML='ğŸ’£'; };
                    }
                }
            }
        }

        function updateBalance() {
            balanceEl.innerText = balance.toFixed(2);
        }

        function showResult(isWin, amount) {
            const overlay = document.getElementById('resultOverlay');
            const box = document.getElementById('resultBox');
            const title = document.getElementById('resultTitle');
            const msg = document.getElementById('resultMessage');

            overlay.style.display = 'flex';
            box.className = 'result-box ' + (isWin ? 'win' : 'lose');
            
            if (isWin) {
                title.innerText = 'Ù…Ø¨Ø±ÙˆÙƒ!';
                msg.innerText = `Ù„Ù‚Ø¯ Ø±Ø¨Ø­Øª ${amount.toFixed(2)} Ø¯.Ø¥`;
            } else {
                title.innerText = 'Ø­Ø¸ Ø£ÙˆÙØ±';
                msg.innerText = 'Ù„Ù‚Ø¯ Ø®Ø³Ø±Øª Ø§Ù„Ø±Ù‡Ø§Ù†';
            }
        }

        function closeResult() {
            document.getElementById('resultOverlay').style.display = 'none';
        }

        // Ø§Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ø£ÙˆÙ„ÙŠ
        initBoard();

    </script>
</body>
</html>
